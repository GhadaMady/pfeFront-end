<div class="row justify-content-center align-items-center">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <h4><strong>{{ isEditMode ? 'Modifier' : 'Déclarer' }} un Sinistre</strong></h4>
        <div class="card-body">
          <form [formGroup]="sinistreForm" (ngSubmit)="saveSinistre()">
            <div class="nice-form-group">
              <label for="name">Nom du Sinistre <i class="fas fa-building"></i></label>
              <br>
              <input
                type="text"
                name="nameS"
                id="name"
                formControlName="nameS"
                placeholder="Entrer le nom du sinistre"
                class="formbold-form-input"
              />
              <div *ngIf="isFieldInvalid('nameS')" class="invalid-feedback">
                {{ getErrorMessage('nameS') }}
              </div>
            </div>

            <div class="nice-form-group">
              <label for="date">Date de Signalement <i class="fas fa-calendar-alt"></i></label>
              <br>
              <input
                type="date"
                name="Date"
                id="date"
                formControlName="Date"
                class="formbold-form-input"
              />
              <div *ngIf="isFieldInvalid('Date')" class="invalid-feedback">
                {{ getErrorMessage('Date') }}
              </div>
            </div>

            <div class="nice-form-group">
              <label for="accident">Description de l'accident <i class="fas fa-building"></i></label>
              <br>
              <textarea
                name="accident"
                id="accident"
                formControlName="accident"
                placeholder="Entrer une description pour l'accident"
                class="formbold-form-input">
              </textarea>
              <div *ngIf="isFieldInvalid('accident')" class="invalid-feedback">
                {{ getErrorMessage('accident') }}
              </div>
            </div>

            <div class="nice-form-group">
              <label for="etat">État du sinistre <i class="fas fa-info-circle"></i></label>
              <br>
              <select
                name="Etat"
                id="etat"
                formControlName="Etat"
                class="formbold-form-input"
              >
                <option value="En attente">En attente</option>
                <option value="En cours">En cours</option>
                <option value="Réglement">Réglement</option>
                <option value="Valider">Valider</option>
                <option value="Réfusé">Réfusé</option>
              </select>
              <div *ngIf="isFieldInvalid('Etat')" class="invalid-feedback">
                {{ getErrorMessage('Etat') }}
              </div>
            </div>

            <div class="nice-form-group">
              <label for="user">Utilisateur <i class="fas fa-user"></i></label>
              <br>
              <select
                name="User"
                id="user"
                formControlName="User"
                class="formbold-form-input"
                (change)="onUserChange($event)"
              >
                <option *ngFor="let user of users" [value]="user._id">{{ user.username }}</option>
              </select>
              <div *ngIf="isFieldInvalid('User')" class="invalid-feedback">
                {{ getErrorMessage('User') }}
              </div>
            </div>

            <div class="nice-form-group">
              <label for="contrat">Contrat <i class="fas fa-box"></i></label>
              <br>
              <select
                name="Contrat"
                id="contrat"
                formControlName="Contrat"
                class="formbold-form-input"
              >
                <option *ngFor="let contrat of contrats" [value]="contrat._id">{{ contrat.nameC }}</option>
              </select>
              <div *ngIf="isFieldInvalid('Contrat')" class="invalid-feedback">
                {{ getErrorMessage('Contrat') }}
              </div>
            </div>

            <div class="text-center">
              <button type="submit" class="btn btn-primary">Enregistrer</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
